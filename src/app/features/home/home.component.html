<div class="home-container">
  
  <header class="hero">
    <h1>Trouvez votre prochaine compétence</h1>
    <p>Des milliers de formations gratuites et payantes.</p>
    
    <div class="filters">
      <button (click)="filtre = 'TOUT'" [class.active]="filtre === 'TOUT'">Tout</button>
      <button (click)="filtre = 'GRATUIT'" [class.active]="filtre === 'GRATUIT'">Gratuit</button>
      <button (click)="filtre = 'PAYANT'" [class.active]="filtre === 'PAYANT'">Premium (Payant)</button>
    </div>
  </header>

  <div *ngIf="loading" class="spinner">Chargement...</div>

  <div class="grid" *ngIf="!loading && matches && matches.length > 0">
    <div *ngFor="let user of matches" class="card fade-in">
      
      <div class="card-img" style="height: 100px; background: var(--primary-gradient); opacity: 0.8;"></div>
      
      <div class="text-center" style="margin-top: -40px;">
        <div class="rounded-circle bg-white d-inline-flex align-items-center justify-content-center shadow-sm border border-4 border-white" 
             style="width: 80px; height: 80px; font-size: 2rem; font-weight: bold; color: #667eea;">
          {{ user.displayName.charAt(0).toUpperCase() }}
        </div>
      </div>

      <div class="card-body text-center pt-2">
        <h3 class="mb-1">{{ user.displayName }}</h3>
        <p class="author mb-3">{{ user.title || 'Membre SkillMate' }}</p>
        
        <div class="d-flex flex-wrap justify-content-center gap-2 mb-4">
          <span *ngFor="let skill of user.skillsOffered | slice:0:3" class="badge bg-primary bg-opacity-10 text-primary border border-primary border-opacity-10 rounded-pill">
            {{ skill }}
          </span>
        </div>
        
        <a [routerLink]="['/p', user.uid]" class="btn-action d-block text-decoration-none text-center">
          Voir le Profil
        </a>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && (!matches || matches.length === 0)" class="empty-state">
    <p>Aucun profil correspondant trouvé.</p>
  </div>

</div>
